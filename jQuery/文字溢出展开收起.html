<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>测试</title>
    <script src="js/jquery-2.1.4.min.js"></script>

</head>
<body>
<div id="hutia">我是那传说中很长很长一段的文字，作者hutia。我是那传说中很长很长一段的文字，作者hutia。我是那传说中很长很长一段的文字，作者hutia。我是那传说中很长很长一段的文字，作者hutia。我是那传说中很长很长一段的文字，作者hutia。我是那传说中很长很长一段的文字，作者hutia。我是那传说中很长很长一段的文字，作者hutia。我是那传说中很长很长一段的文字，作者hutia。我是那传说中很长很长一段的文字，作者hutia。我是那传说中很长很长一段的文字，作者hutia。我是那传说中很长很长一段的文字，作者hutia。我是那传说中很长很长一段的文字，作者hutia。我是那传说中很长很长一段的文字，作者hutia。我是那传说中很长很长一段的文字，作者hutia。</div>
<script>
    (function(){
        var o = document.getElementById("hutia");
        var s = o.innerHTML;
        var p = document.createElement("span");
        var n = document.createElement("a");
        p.innerHTML = s.substring(0,100);
        n.innerHTML = s.length > 100 ? "..." : "";
        n.href = "###";
        n.onclick = function(){
            if (n.innerHTML == "..."){
                n.innerHTML = "收起";
                p.innerHTML = s;
            }else{
                n.innerHTML = "...";
                p.innerHTML = s.substring(0,100);
            }
        }
        o.innerHTML = "";
        o.appendChild(p);
        o.appendChild(n);
    })();
</script>
</body>
</html>
